<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Cache-control" content="must-revalidate">
    <title>Произвольные ЗУ</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <link href="https://unpkg.com/bootstrap-table@1.15.5/dist/bootstrap-table.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/ui-darkness/jquery-ui.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.0.4/popper.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-3.1.0.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    <!--            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.15.5/dist/bootstrap-table.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey={{.yaKey}}&lang=ru_RU"
            type="text/javascript"></script>
    <script src="/file/web/js/arbitraryGS.js" type="text/javascript"></script>
    <link rel="icon"
          type="image/svg"
          href="/free/resources/trafficlight.svg"/>
    <style>
        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Firefox */
        input[type=number] {
            -moz-appearance: textfield;
        }

        /* Just common table stuff. Really. */
        table {
            border-collapse: collapse;
            /*width: 100%;*/
            background: #ffffff;
        }

        th, td {
            padding: 8px 16px;
        }

        th {
            background: #eee;
        }

        html, body, #map {
            height: 100%;
            padding: 0;
            margin: 0;
        }

        td.phase {
            display: grid;
        }
    </style>
</head>
<body>
<div class="text-center" style="display: inline-flex; position: absolute; top: 7px; left: 380px; z-index: 2">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownControlButton"
            data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">Управление картой
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <button class="dropdown-item" type="button" id="locationButton">Перемещение</button>
        <button class="dropdown-item" type="button" id="fragmentButton">Фрагменты</button>
        <button class="dropdown-item" type="button" id="fixationButton">Зафиксировать экран</button>
        <button class="dropdown-item" type="button" id="fixationReset">Снять фиксацию</button>
    </div>
    <button class="btn btn-secondary ml-2" type="button" id="createModeButton"
            aria-haspopup="true" aria-expanded="false">Режим назначения
    </button>
    <button class="btn btn-secondary ml-2" type="button" id="controlModeButton"
            aria-haspopup="true" aria-expanded="false">Режим управления
    </button>
</div>
<!--<div class="container-fluid border border-dark" id="map"-->
<!--     style="max-height: 920px; position: relative; z-index: 1"></div>-->
<div id="locationDialog" title="Выбор района">
    <form class="needs-validated">
        <div class="form-group" id="regionForm">
            <label for="region">Регион</label>
            <select class="form-control" id="region">
            </select>
        </div>
        <div class="form-group" id="areasForm">
            <label for="area">Районы (зажмите ctrl для выбора нескольких)</label>
            <select class="form-control" id="area" multiple>
            </select>
        </div>
    </form>
</div>
<div id="fragmentDialog" title="Выбор фрагмента">
    <form class="needs-validated">
        <div class="form-group" id="fragmentForm">
            <select class="form-control text-center" id="fragment">
            </select>
        </div>
    </form>
</div>
<div id="creatingAddDialog" title="Создание доп. объекта">
    <form class="needs-validated">
        <div class="form-group" id="addRegionForm">
            <label for="addRegion">Регион</label>
            <select class="form-control text-center" id="addRegion">
            </select>
            <div class="invalid-feedback">Пожалуйста, заполните поле верно.</div>
        </div>
        <div class="form-group" id="addAreaForm">
            <label for="addArea">Район</label>
            <select class="form-control text-center" id="addArea">
            </select>
            <div class="invalid-feedback">Пожалуйста, заполните поле верно.</div>
        </div>
        <div class="form-group" id="addIdForm">
            <label for="addId">ID (начиная с 10.000)</label>
            <input type="number" class="form-control" id="addId" placeholder="Введите ID" name="id" required>
            <div class="invalid-feedback">Пожалуйста, заполните поле верно.</div>
        </div>
        <div class="form-group" id="addDescForm">
            <label for="addDesc">Описание</label>
            <input type="text" class="form-control" id="addDesc" placeholder="Введите описание" name="desc" required>
            <div class="invalid-feedback">Пожалуйста, заполните поле верно.</div>
        </div>
    </form>
</div>
<div id="tableDialog" class="row" style="display:inline-flex; min-width: 100%;" title="Таблица фаз">
    <!--    <button id="deleteButton" class="btn btn-secondary ml-auto">Удалить</button>-->
    <div class="col-md-4 img-fluid my-auto text-center">
        <h2 id="north" style="margin-bottom: 1%;">С</h2>
        <div style="display: inline-flex;">
            <h2 id="west" style="margin-top: 41%; margin-right: 1%;">З</h2>
            <div id="svgContainer"></div>
            <h2 id="east" style="margin-top: 41%; margin-left: 1%;">В</h2>
        </div>
        <h2 id="south">Ю</h2>
    </div>
    <div class="col-md-4 text-center my-auto">
        <table class="table table-bordered"
               id="table"
               data-toggle="table"
               data-toolbar="#toolbar"
               data-height="80vh"
               data-single-select="true"
               data-click-to-select="true">
            <thead>
            <tr>
                <th data-field="direction"></th>
                <th data-field="from" class="from">Откуда</th>
                <th data-field="to" class="to">Куда</th>
                <th data-field="phase" class="phase">Фаза</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
    <div id="phaseContainer" class="col-md-4" style="display: inherit;"></div>
</div>
</body>
</html>